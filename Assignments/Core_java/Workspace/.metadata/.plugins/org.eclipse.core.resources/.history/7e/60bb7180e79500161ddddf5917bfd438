package reflect;

import java.lang.reflect.Method;

class B{
	private int square(Integer x){
		return x*x;
	}
}

class Middleware{
	public Object invoke(String className, String methodName, Class[] paramTypes, Object[] paramValues) throws Exception{
		Class c = Class.forName(className);
		Method m = c.getDeclaredMethod(methodName, paramTypes);
		m.setAccessible(true);
		return m.invoke(c.newInstance(),paramValues);
	}
}

public class Reflection4 {
	public static void main (String[] args) throws Exception {
		Class c = Class.forName("reflect.B");
		Method m = c.getDeclaredMethod("square", new Class[]{Integer.class});
		m.setAccessible(true);
		System.out.println("Square : " + m.invoke(new Integer[]{5}));
	}
}
